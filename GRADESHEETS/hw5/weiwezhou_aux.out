[----] Criterion v2.3.3
[====] Running 5 tests from blackbox_suite:
[RUN ] blackbox_suite::00_start_server
[RUN ] blackbox_suite::01_connect
[RUN ] blackbox_suite::03_connect_bob
[RUN ] blackbox_suite::02_connect_alice
server_suite/00_start_server
[RUN ] blackbox_suite::04_connect_carol
Starting server...pid = 444334
Charla test client.
Commands are:
	login <handle>
	logout
	users
	send <handle> <msg>
Connected to server localhost:9999
> server_suite/01_connect
Connected to server localhost:9999
[PASS] blackbox_suite::01_connect: (0.01s)
Charla test client.
Commands are:
	login <handle>
	logout
	users
	send <handle> <msg>
Connected to server localhost:9999
> Charla test client.
Commands are:
	login <handle>
	logout
	users
	send <handle> <msg>
Connected to server localhost:9999
> OK
> OK
> OK
> OK
> Message from alice: hello
> OK
> Message from carol: hello
> OK
> Message from bob: hello
> [PASS] blackbox_suite::02_connect_alice: (2.00s)
[PASS] blackbox_suite::03_connect_bob: (2.01s)
[PASS] blackbox_suite::04_connect_carol: (2.00s)
Sending SIGHUP to server pid 444334
Server wait() returned = 0x2500
==444334== Memcheck, a memory error detector
==444334== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==444334== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==444334== Command: bin/charla -p 9999
==444334== Parent PID: 444307
==444334== 
==444334== 
==444334== FILE DESCRIPTORS: 12 open at exit.
==444334== Open AF_INET socket 9: 127.0.0.1:9999 <-> 127.0.0.1:54138
==444334==    at 0x487C49F: accept (accept.c:26)
==444334==    by 0x10A913: main (in /home/gene/grader-s19/hw5/repos/weiwezhou/hw5/bin/charla)
==444334== 
==444334== Open AF_INET socket 8: 127.0.0.1:9999 <-> 127.0.0.1:54136
==444334==    at 0x487C49F: accept (accept.c:26)
==444334==    by 0x10A913: main (in /home/gene/grader-s19/hw5/repos/weiwezhou/hw5/bin/charla)
==444334== 
==444334== Open AF_INET socket 7: 127.0.0.1:9999 <-> 127.0.0.1:54134
==444334==    at 0x487C49F: accept (accept.c:26)
==444334==    by 0x10A913: main (in /home/gene/grader-s19/hw5/repos/weiwezhou/hw5/bin/charla)
==444334== 
==444334== Open AF_INET socket 6: 127.0.0.1:9999 <-> 127.0.0.1:54132
==444334==    at 0x487C467: accept (accept.c:26)
==444334==    by 0x10A913: main (in /home/gene/grader-s19/hw5/repos/weiwezhou/hw5/bin/charla)
==444334== 
==444334== Open AF_INET socket 5: 0.0.0.0:9999 <-> unbound
==444334==    at 0x49AE90B: socket (syscall-template.S:78)
==444334==    by 0x10A7FD: main (in /home/gene/grader-s19/hw5/repos/weiwezhou/hw5/bin/charla)
==444334== 
==444334== Open file descriptor 13: /dev/shm/bxf_arena_444305 (deleted)
==444334==    <inherited from parent>
==444334== 
==444334== Open file descriptor 12: /dev/shm/bxf_arena_444305 (deleted)
==444334==    <inherited from parent>
==444334== 
==444334== Open file descriptor 4:
==444334==    <inherited from parent>
==444334== 
==444334== Open file descriptor 3: /home/gene/grader-s19/hw5/repos/weiwezhou/hw5/valgrind.out
==444334==    <inherited from parent>
==444334== 
==444334== Open file descriptor 2:
==444334==    <inherited from parent>
==444334== 
==444334== Open file descriptor 1:
==444334==    <inherited from parent>
==444334== 
==444334== Open file descriptor 0:
==444334==    <inherited from parent>
==444334== 
==444334== 
==444334== HEAP SUMMARY:
==444334==     in use at exit: 1,088 bytes in 4 blocks
==444334==   total heap usage: 92 allocs, 88 frees, 6,221 bytes allocated
==444334== 
==444334== 1,088 bytes in 4 blocks are possibly lost in loss record 1 of 1
==444334==    at 0x483DD99: calloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==444334==    by 0x40149CA: allocate_dtv (dl-tls.c:286)
==444334==    by 0x40149CA: _dl_allocate_tls (dl-tls.c:532)
==444334==    by 0x4872322: allocate_stack (allocatestack.c:622)
==444334==    by 0x4872322: pthread_create@@GLIBC_2.2.5 (pthread_create.c:660)
==444334==    by 0x10A99D: main (in /home/gene/grader-s19/hw5/repos/weiwezhou/hw5/bin/charla)
==444334== 
==444334== LEAK SUMMARY:
==444334==    definitely lost: 0 bytes in 0 blocks
==444334==    indirectly lost: 0 bytes in 0 blocks
==444334==      possibly lost: 1,088 bytes in 4 blocks
==444334==    still reachable: 0 bytes in 0 blocks
==444334==         suppressed: 0 bytes in 0 blocks
==444334== 
==444334== For lists of detected and suppressed errors, rerun with: -s
==444334== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
[----] tests/charla_tests.c:68: Assertion failed: Valgrind reported errors
[FAIL] blackbox_suite::00_start_server: (15.03s)
[----] Writing xml report in `crit.xml`.
[====] Synthesis: Tested: 5 | Passing: 4 | Failing: 1 | Crashing: 0 
